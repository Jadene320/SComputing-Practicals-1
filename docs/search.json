[
  {
    "objectID": "Day4_Practicals/Practical_4.html",
    "href": "Day4_Practicals/Practical_4.html",
    "title": "PracticalFour",
    "section": "",
    "text": "# Install tidyverse if not already installed\nif (!requireNamespace(\"tidyverse\", quietly = TRUE)) {\n  install.packages(\"tidyverse\")\n}\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'dplyr' was built under R version 4.3.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.5     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Install and load nycflights13 for flight data\nif (!requireNamespace(\"nycflights13\", quietly = TRUE)) {\n  install.packages(\"nycflights13\")\n}\nlibrary(nycflights13)\n\nWarning: package 'nycflights13' was built under R version 4.3.3\n\n\n\nQuestion One\n\n##View data to see structure\nclass(flights)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nflights\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n#An alternative way:\nglimpse(flights)\n\nRows: 336,776\nColumns: 19\n$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…\n$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, …\n$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, …\n$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1…\n$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,…\n$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,…\n$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1…\n$ carrier        &lt;chr&gt; \"UA\", \"UA\", \"AA\", \"B6\", \"DL\", \"UA\", \"B6\", \"EV\", \"B6\", \"…\n$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4…\n$ tailnum        &lt;chr&gt; \"N14228\", \"N24211\", \"N619AA\", \"N804JB\", \"N668DN\", \"N394…\n$ origin         &lt;chr&gt; \"EWR\", \"LGA\", \"JFK\", \"JFK\", \"LGA\", \"EWR\", \"EWR\", \"LGA\",…\n$ dest           &lt;chr&gt; \"IAH\", \"IAH\", \"MIA\", \"BQN\", \"ATL\", \"ORD\", \"FLL\", \"IAD\",…\n$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1…\n$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, …\n$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6…\n$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0…\n$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0…\n\n\n\n\nQuestion Two\nRewrite the code given, particularly using the dplyr package.\n\n##Rewrite code using the pipe operater\nflight1 &lt;- flights %&gt;%\n  filter(month == 1) %&gt;% \n  group_by(carrier) %&gt;% \n  #distinct(carrier) %&gt;% I had this line here prior, but this line essentially throws away everything except for carrier, so when it got to the summarise bit, there was no distance column\n  summarise(\n    carrier_dist_vec_mean = mean(distance, na.rm = TRUE),\n    carrier_dist_vec_sd = sd(distance, na.rm = TRUE)\n    ) %&gt;% \n  arrange(carrier_dist_vec_mean)\n\nclass(flight1)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\n\nQuestion Three\nNA value: There exists only one distance value (n=1) for month == 1 for that particular carrier.\nThe mathematical context in which sd = 0, is when the sum of the differences of obs and mean is = 0. So the distance of flights are the same.\n\ncheck &lt;- flights |&gt; \n  filter(month == 1) |&gt; \n  group_by(carrier) |&gt; \n  summarise(\n    num_flights = n(),\n    carrier_dist_vec_mean = mean(distance, na.rm = TRUE),\n    carrier_dist_vec_sd = sd(distance, na.rm = TRUE)\n    ) \n  \ncheck\n\n# A tibble: 16 × 4\n   carrier num_flights carrier_dist_vec_mean carrier_dist_vec_sd\n   &lt;chr&gt;         &lt;int&gt;                 &lt;dbl&gt;               &lt;dbl&gt;\n 1 9E             1573                  476.               334. \n 2 AA             2794                 1350.               626. \n 3 AS               62                 2402                  0  \n 4 B6             4427                 1062.               681. \n 5 DL             3690                 1220.               644. \n 6 EV             4171                  522.               294. \n 7 F9               59                 1620                  0  \n 8 FL              328                  691.               142. \n 9 HA               31                 4983                  0  \n10 MQ             2271                  566.               223. \n11 OO                1                  733                 NA  \n12 UA             4637                 1462.               778. \n13 US             1602                  536.               553. \n14 VX              316                 2495.                98.2\n15 WN              996                  942.               496. \n16 YV               46                  229                  0  \n\ncheck |&gt; \n  filter(num_flights &gt; 1, carrier_dist_vec_sd == 0)\n\n# A tibble: 4 × 4\n  carrier num_flights carrier_dist_vec_mean carrier_dist_vec_sd\n  &lt;chr&gt;         &lt;int&gt;                 &lt;dbl&gt;               &lt;dbl&gt;\n1 AS               62                  2402                   0\n2 F9               59                  1620                   0\n3 HA               31                  4983                   0\n4 YV               46                   229                   0\n\n\n\n\nQuestion Four\n\nnew_df &lt;- flights |&gt; \n  group_by(month, carrier) |&gt; #Every combination of month and carrier\n  summarise(avg_dep_delay = mean(dep_delay, na.rm = TRUE)) |&gt; \n  pivot_wider(\n\n    names_from = carrier, #Look at carrier for the column names\n    values_from = avg_dep_delay #Populate each cell with values from the avg_dep_delay\n  )\n\n`summarise()` has grouped output by 'month'. You can override using the\n`.groups` argument.\n\nnew_df\n\n# A tibble: 12 × 17\n# Groups:   month [12]\n   month  `9E`    AA     AS    B6    DL    EV    F9    FL    HA    MQ    OO\n   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1     1 16.9   6.93  7.35   9.49  3.85 24.2  10     1.97 54.4   6.49 67   \n 2     2 16.5   8.28  0.722 13.8   5.54 21.5  29.8   5.18 17.4   8.09 NA   \n 3     3 13.4   8.70  8.42  14.2   9.93 26.2  16.8  17.3   1.16  7.19 NA   \n 4     4 13.6  11.7  11.3   15.2   8.17 22.8  24.6  13.1  -2.1  13.7  NA   \n 5     5 22.7   9.66  6.77   9.78  9.74 20.2  35.9  19.2  -1.45 13.9  NA   \n 6     6 29.0  14.6  13.1   20.4  18.7  25.5  29.4  38.8   1.47 20.8  61   \n 7     7 31.4  12.1   2.42  24.9  20.6  26.5  31.8  41.2  -1.71 20.7  NA   \n 8     8 17.3   7.17  2.87  15.7   9.85 16.3  22.2  23.4   1.68 10.1  64   \n 9     9  7.75  5.69 -4.52   6.63  5.53  8.24  8.26 16.9  -5.44  5.35 -4.94\n10    10  9.33  3.00  0.677  2.96  3.42 13.4   9.70 13.7  -5.10  4.48 NA   \n11    11  7.56  3.10  3.08   3.52  2.85  9.83 13.5  16.9  -5.44  3.28  0.8 \n12    12 19.8  11.7  18.0   17.0  10.8  27.9  13.1  26.1  -3.14 12.7  NA   \n# ℹ 5 more variables: UA &lt;dbl&gt;, US &lt;dbl&gt;, VX &lt;dbl&gt;, WN &lt;dbl&gt;, YV &lt;dbl&gt;\n\n\n\n\nQuestion Five\nProportion of flights dep_delay&gt;0 but arr_delay&lt;=0\n\ndelay_check &lt;- flights |&gt; \n  summarise(\n    numerator = sum(dep_delay&gt; 0 & arr_delay &lt;= 0, na.rm = TRUE),\n    denominator = n(), #No need to specify 'flight' here, it looks at the df passed and counts the rows it sees\n    prop = (numerator/denominator)\n  )\n\nprint(delay_check) \n\n# A tibble: 1 × 3\n  numerator denominator  prop\n      &lt;int&gt;       &lt;int&gt; &lt;dbl&gt;\n1     35442      336776 0.105\n\n\n\n\nQuestion Six : 1\n\nnames(flights)\n\n [1] \"year\"           \"month\"          \"day\"            \"dep_time\"      \n [5] \"sched_dep_time\" \"dep_delay\"      \"arr_time\"       \"sched_arr_time\"\n [9] \"arr_delay\"      \"carrier\"        \"flight\"         \"tailnum\"       \n[13] \"origin\"         \"dest\"           \"air_time\"       \"distance\"      \n[17] \"hour\"           \"minute\"         \"time_hour\"     \n\nflights &lt;- flights\nairlines &lt;- airlines\nclass(airlines)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nairlines\n\n# A tibble: 16 × 2\n   carrier name                       \n   &lt;chr&gt;   &lt;chr&gt;                      \n 1 9E      Endeavor Air Inc.          \n 2 AA      American Airlines Inc.     \n 3 AS      Alaska Airlines Inc.       \n 4 B6      JetBlue Airways            \n 5 DL      Delta Air Lines Inc.       \n 6 EV      ExpressJet Airlines Inc.   \n 7 F9      Frontier Airlines Inc.     \n 8 FL      AirTran Airways Corporation\n 9 HA      Hawaiian Airlines Inc.     \n10 MQ      Envoy Air                  \n11 OO      SkyWest Airlines Inc.      \n12 UA      United Air Lines Inc.      \n13 US      US Airways Inc.            \n14 VX      Virgin America             \n15 WN      Southwest Airlines Co.     \n16 YV      Mesa Airlines Inc.         \n\n\n\n#Identify the routes \nroutes &lt;- flights |&gt; \n  group_by(origin, dest) |&gt; \n  summarise(\n    unique_carrier = n_distinct(carrier, na.rm = TRUE)\n  ) |&gt; \n  filter(unique_carrier &gt; 1)\n\n`summarise()` has grouped output by 'origin'. You can override using the\n`.groups` argument.\n\nroutes\n\n# A tibble: 128 × 3\n# Groups:   origin [3]\n   origin dest  unique_carrier\n   &lt;chr&gt;  &lt;chr&gt;          &lt;int&gt;\n 1 EWR    ATL                4\n 2 EWR    AUS                2\n 3 EWR    BDL                2\n 4 EWR    BNA                2\n 5 EWR    BOS                3\n 6 EWR    BWI                2\n 7 EWR    CHS                2\n 8 EWR    CLE                2\n 9 EWR    CLT                3\n10 EWR    CVG                2\n# ℹ 118 more rows\n\n\n\n\nQuestion Six : 2\nFor each route, calculate avg arr_delay for each airline (carrier) and their names\n\n#Use Routes df \nhead(routes)\n\n# A tibble: 6 × 3\n# Groups:   origin [1]\n  origin dest  unique_carrier\n  &lt;chr&gt;  &lt;chr&gt;          &lt;int&gt;\n1 EWR    ATL                4\n2 EWR    AUS                2\n3 EWR    BDL                2\n4 EWR    BNA                2\n5 EWR    BOS                3\n6 EWR    BWI                2\n\navg_arr_delays &lt;- flights |&gt; \n  inner_join(routes, by = c(\"origin\", \"dest\")) |&gt; \n  \n  left_join(airlines, by = \"carrier\") |&gt; \n  \n  group_by(origin, dest, name) |&gt; #name came from leftjoin with airlines \n  summarise(\n    avg_arr_delay = mean(arr_delay, na.rm = TRUE)\n  )\n\n`summarise()` has grouped output by 'origin', 'dest'. You can override using\nthe `.groups` argument.\n\navg_arr_delays\n\n# A tibble: 343 × 4\n# Groups:   origin, dest [128]\n   origin dest  name                     avg_arr_delay\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;                            &lt;dbl&gt;\n 1 EWR    ATL   Delta Air Lines Inc.             10.0 \n 2 EWR    ATL   Endeavor Air Inc.                -6.25\n 3 EWR    ATL   ExpressJet Airlines Inc.         19.5 \n 4 EWR    ATL   United Air Lines Inc.            10.5 \n 5 EWR    AUS   Southwest Airlines Co.          -11.2 \n 6 EWR    AUS   United Air Lines Inc.             4.28\n 7 EWR    BDL   ExpressJet Airlines Inc.          6.78\n 8 EWR    BDL   United Air Lines Inc.            22.6 \n 9 EWR    BNA   ExpressJet Airlines Inc.         17.7 \n10 EWR    BNA   Southwest Airlines Co.           -2.13\n# ℹ 333 more rows\n\n\n\n\nQuestion Six : 3\n\n#Find airline for worst and best avg arr delay\nrank &lt;- avg_arr_delays |&gt; \n  group_by(origin, dest) |&gt; \n  filter(\n    avg_arr_delay == min(avg_arr_delay)| #'|' means get both the best and the worst from that route\n    avg_arr_delay == max(avg_arr_delay)\n  ) |&gt; \n  mutate(status = case_when(\n    avg_arr_delay == min(avg_arr_delay) ~ \"Best\",\n    avg_arr_delay == max(avg_arr_delay) ~ \"Worst\"\n  ))\n\nrank  \n\n# A tibble: 254 × 5\n# Groups:   origin, dest [127]\n   origin dest  name                     avg_arr_delay status\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;                            &lt;dbl&gt; &lt;chr&gt; \n 1 EWR    ATL   Endeavor Air Inc.                -6.25 Best  \n 2 EWR    ATL   ExpressJet Airlines Inc.         19.5  Worst \n 3 EWR    AUS   Southwest Airlines Co.          -11.2  Best  \n 4 EWR    AUS   United Air Lines Inc.             4.28 Worst \n 5 EWR    BDL   ExpressJet Airlines Inc.          6.78 Best  \n 6 EWR    BDL   United Air Lines Inc.            22.6  Worst \n 7 EWR    BNA   ExpressJet Airlines Inc.         17.7  Worst \n 8 EWR    BNA   Southwest Airlines Co.           -2.13 Best  \n 9 EWR    BOS   ExpressJet Airlines Inc.         -4.01 Best  \n10 EWR    BOS   JetBlue Airways                   6.87 Worst \n# ℹ 244 more rows\n\n\n\n\nQuestion Six : 4\nIdentify the route with the greatest difference between the best and worst performing airlines.\n\ndiff &lt;- rank |&gt; \n  group_by(origin, dest) |&gt; \n  summarise(\n    max_delay = max(avg_arr_delay),\n    min_delay = min(avg_arr_delay),\n    difference = max_delay - min_delay,\n    worst_airline = name[which.max(avg_arr_delay)],#which.max returns the index\n    best_airline = name[which.min(avg_arr_delay)]\n  ) |&gt; \n  arrange(desc(difference))\n\n`summarise()` has grouped output by 'origin'. You can override using the\n`.groups` argument.\n\ndiff\n\n# A tibble: 127 × 7\n# Groups:   origin [3]\n   origin dest  max_delay min_delay difference worst_airline        best_airline\n   &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;                &lt;chr&gt;       \n 1 JFK    ATL       128        1.40      127.  ExpressJet Airlines… Endeavor Ai…\n 2 LGA    XNA       119        6.96      112.  ExpressJet Airlines… Envoy Air   \n 3 LGA    ORD       107       -1.31      108.  SkyWest Airlines In… American Ai…\n 4 LGA    MSY        72.5    -29         102.  ExpressJet Airlines… Endeavor Ai…\n 5 EWR    STL       110       13.6        96.4 United Air Lines In… Southwest A…\n 6 LGA    MSP       100        4.33       95.7 Endeavor Air Inc.    Delta Air L…\n 7 EWR    DTW        68.5      1          67.5 SkyWest Airlines In… United Air …\n 8 LGA    ATL        63        6.33       56.7 ExpressJet Airlines… Delta Air L…\n 9 LGA    PBI        40.7    -12.6        53.3 ExpressJet Airlines… American Ai…\n10 LGA    IND        20.7    -26.5        47.2 ExpressJet Airlines… Delta Air L…\n# ℹ 117 more rows\n\n\nJFK to ATL is the route with the greatest difference between best and worst airlines.\n\n\nQuestion Six : 5\nCheck what other variables could be the cause for that great delay.\n\nhead(flights)\n\n# A tibble: 6 × 19\n   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n1  2013     1     1      517            515         2      830            819\n2  2013     1     1      533            529         4      850            830\n3  2013     1     1      542            540         2      923            850\n4  2013     1     1      544            545        -1     1004           1022\n5  2013     1     1      554            600        -6      812            837\n6  2013     1     1      554            558        -4      740            728\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n#count the number of flights for each carrier on the route with the greatest difference (JFK to ATL)\nflights |&gt; \n  filter(origin == diff$origin, \n         dest == diff$dest) |&gt; \n  count(carrier)\n\nWarning: There were 2 warnings in `filter()`.\nThe first warning was:\nℹ In argument: `origin == diff$origin`.\nCaused by warning in `origin == diff$origin`:\n! longer object length is not a multiple of shorter object length\nℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.\n\n\n# A tibble: 14 × 2\n   carrier     n\n   &lt;chr&gt;   &lt;int&gt;\n 1 9E        143\n 2 AA        271\n 3 B6        330\n 4 DL        373\n 5 EV        262\n 6 F9          7\n 7 FL         26\n 8 MQ        205\n 9 OO          1\n10 UA        360\n11 US         80\n12 VX         30\n13 WN         55\n14 YV          5\n\n\n\nflights %&gt;%\n  filter(origin == diff$origin,\n         dest == diff$dest,\n         !is.na(arr_delay)) %&gt;%\n  group_by(carrier) %&gt;%\n  summarise(\n    mean_delay = mean(arr_delay),\n    median_delay = median(arr_delay),\n    sd_delay = sd(arr_delay)\n  )\n\nWarning: There were 2 warnings in `filter()`.\nThe first warning was:\nℹ In argument: `origin == diff$origin`.\nCaused by warning in `origin == diff$origin`:\n! longer object length is not a multiple of shorter object length\nℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.\n\n\n# A tibble: 14 × 4\n   carrier mean_delay median_delay sd_delay\n   &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;\n 1 9E           11.1          -6       52.1\n 2 AA            2.02         -8       43.2\n 3 B6            6.87         -5       41.0\n 4 DL           -1.21        -10       37.3\n 5 EV           22.9           2       58.8\n 6 F9            6.71         18       19.1\n 7 FL           20.8          10       44.3\n 8 MQ           12.9           0       42.5\n 9 OO           48            48       NA  \n10 UA            4.56         -8       44.1\n11 US            3.96          0       30.6\n12 VX           -9.27        -15.5     32.1\n13 WN            3.69         -7       36.4\n14 YV           19.8          -5       43.6\n\n\n\n\nQuestion Seven\n\ngiven_data &lt;- structure(list(id = c(\"id_1\", \"id_2\", \"id_3\", \"id_4\", \"id_5\", \n\"id_6\", \"id_7\", \"id_8\", \"id_9\", \"id_10\", \"id_11\", \"id_12\", \"id_13\", \n\"id_14\", \"id_15\", \"id_16\", \"id_17\", \"id_18\", \"id_19\", \"id_20\", \n\"id_21\", \"id_22\", \"id_23\", \"id_24\", \"id_25\", \"id_26\", \"id_27\", \n\"id_28\", \"id_29\", \"id_30\", \"id_31\", \"id_32\", \"id_33\", \"id_34\", \n\"id_35\", \"id_36\", \"id_37\", \"id_38\", \"id_39\", \"id_40\", \"id_41\", \n\"id_42\", \"id_43\", \"id_44\", \"id_45\", \"id_46\", \"id_47\", \"id_48\", \n\"id_49\", \"id_50\"), age = c(50L, 34L, 70L, 33L, 22L, 61L, 69L, \n73L, 62L, 56L, 71L, 33L, 73L, 44L, 45L, 46L, 24L, 70L, 46L, 76L, \n47L, 76L, 28L, 48L, 54L, 27L, 45L, 26L, 61L, 28L, 38L, 55L, 33L, \n36L, 62L, 58L, 72L, 31L, 34L, 51L, 61L, 64L, 26L, 28L, 60L, 29L, \n42L, 46L, 79L, 72L), gender = c(\"male\", \"male\", \"male\", \"female\", \n\"female\", \"male\", \"female\", \"male\", \"male\", \"female\", \"female\", \n\"male\", \"male\", \"female\", \"male\", \"male\", \"male\", \"male\", \"female\", \n\"male\", \"male\", \"male\", \"male\", \"female\", \"femal\", \"male\", \"female\", \n\"female\", \"female\", \"female\", \"male\", \"female\", \"female\", \"female\", \n\"male\", \"male\", \"female\", \"male\", \"female\", \"female\", \"male\", \n\"female\", \"female\", \"male\", \"male\", \"female\", \"male\", \"male\", \n\"male\", \"female\"), height = c(174.4, 197.7, 174.1, 194.5, NA, \n180.4, 170.5, 157.4, 196.8, 165.1, 153, 197.4, 186, 157.1, 177.5, \n197.7, 179.3, 170.2, 182.4, NA, 165.4, 161, 168.5, 199.2, 157.7, \n154.6, 157.1, 184.5, 181, 194.6, 183.6, 186.9, 176.1, 183, 191.1, \n189.3, 199, 172, 165.6, 170.5, 150.5, 159.2, 192.1, 161.6, 162, \n153.8, 162.3, 186.6, 192.4, 174.9), weight = c(69.4, 62.3, 55.6, \n69.5, 78.6, 60.8, 72.2, 60.9, 75.1, 67.7, 82.5, 68.7, 67.8, 76.7, \n87, 61.1, 70.6, 63.3, 81.5, 59.2, 93.2, 87.3, 83.4, 80.9, 68.6, \n76.5, 93.7, 79.1, 92, 65.6, 85.4, 63.3, 79.7, 74.1, 63.3, 78.2, \n95.7, 95.1, 63.7, 66.1, 99.3, 81, 96.9, 73.3, 70.3, 83, 57.6, \n78.6, 61.9, 98.1), blood_type = c(\"O\", \"A\", \"O\", \"O\", \"B\", \"AB\", \n\"O\", \"O\", \"O\", \"AB\", \"A\", \"O\", \"O\", \"O\", \"B\", \"A\", \"B\", \"AB\", \n\"O\", \"AB\", \"A\", \"AB\", \"O\", \"B\", \"A\", \"A\", \"B\", \"AB\", \"A\", \"B\", \n\"B\", \"A\", \"O\", \"O\", \"O\", \"B\", \"O\", \"A\", \"A\", \"B\", \"A\", \"O\", \"AB\", \n\"A\", \"A\", \"O\", \"O\", \"B\", \"A\", \"O\"), disease_status = c(\"diseased\", \n\"healthy\", \"healthy\", \"healthy\", \"healthy\", \"healthy\", \"diseased\", \n\"healthy\", \"diseased\", \"Healthy\", \"diseased\", \"healthy\", \"diseased\", \n\"healthy\", \"diseased\", \"healthy\", \"healthy\", \"healthy\", \"healthy\", \n\"healthy\", \"healthy\", \"diseased\", \"healthy\", \"diseased\", \"healthy\", \n\"healthy\", \"healthy\", \"healthy\", \"diseased\", \"diseased\", \"healthy\", \n\"healthy\", \"healthy\", \"diseased\", \"diseased\", \"diseased\", \"healthy\", \n\"diseased\", \"healthy\", \"healthy\", \"healthy\", \"healthy\", \"healthy\", \n\"diseased\", \"diseased\", \"diseased\", \"healthy\", \"healthy\", \"diseased\", \n\"diseased\"), cholesterol = c(228, 223, 213, 198, 166, 151, 195, \n199, 189, 196, 221, 156, 185, 230, 234, 174, 185, 236, 235, 180, \n165, 220, 160, 153, 250, 153, 184, 242, 212, 179, 224, 233, 181, \n199, 220, 214, 214, 248, 191, 162, 203, 173, 199, 187, 248, 189, \n173, 212, 164, 247), glucose = c(96, 78, 101, 119, 103, 91, 86, \nNA, 77, 80, 115, 85, 88, 109, NA, 71, 90, 94, 91, 87, 113, 93, \n97, 118, 109, 80, 85, 119, 99, 108, 89, 108, 97, 116, 79, 84, \n75, 81, 119, NA, 106, 109, 75, 82, 84, 75, 76, 120, 119, 77), \n    smoker = c(\"yes\", \"yes\", \"yes\", \"yes\", \"no\", \"yes\", \"no\", \n    \"yes\", \"no\", \"no\", \"no\", \"no\", \"no\", \"yes\", \"no\", \"yes\", \n    \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"no\", \n    \"no\", \"yes\", \"yes\", \"yes\", \"no\", \"no\", \"yes\", \"no\", \"yes\", \n    \"no\", \"yes\", \"no\", \"yes\", \"yes\", \"yes\", \"no\", \"no\", \"yes\", \n    \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"yes\"), exercise = c(\"occasional\", \n    \"regular\", \"occasional\", \"regular\", \"none\", \"occasional\", \n    \"regular\", \"none\", \"occasional\", \"none\", \"occasional\", \"none\", \n    \"none\", \"regular\", \"occasional\", \"none\", \"regular\", \"regular\", \n    \"none\", \"occasional\", \"none\", \"occasional\", \"occasional\", \n    \"occasional\", \"regular\", \"occasional\", \"regular\", \"regular\", \n    \"regular\", \"occasional\", \"occasional\", \"none\", \"none\", \"regular\", \n    \"occasional\", \"occasional\", \"none\", \"none\", \"none\", \"none\", \n    \"occasional\", \"regular\", \"regular\", \"none\", \"regular\", \"occasional\", \n    \"occasional\", \"none\", \"occasional\", \"regular\"), income = c(84820L, \n    81547L, 22588L, 72490L, 74533L, 25338L, 41469L, 57315L, 63629L, \n    88662L, 62615L, 56261L, 58499L, 82232L, 77584L, 77275L, 38468L, \n    54510L, 91326L, 78611L, 31402L, 29586L, 21441L, 58269L, 84173L, \n    88295L, 37940L, 43750L, 69750L, 92356L, 82518L, 91455L, 68866L, \n    51178L, 68275L, 27689L, 35418L, 81318L, 62405L, 86851L, 25654L, \n    47553L, 74474L, 51409L, 22607L, 55360L, 96351L, 21516L, 41927L, \n    55810L), education = c(\"master\", \"bachelor\", \"PhD\", \"master\", \n    \"bachelor\", \"highschool\", \"PhD\", \"highschool\", \"PhD\", \"PhD\", \n    \"bachelor\", \"highschool\", \"master\", \"bachelor\", \"PhD\", \"PhD\", \n    \"PhD\", \"bachelor\", \"master\", \"highschool\", \"PhD\", \"highschool\", \n    \"bachelor\", \"master\", \"highschool\", \"highschool\", \"master\", \n    \"master\", \"bachelor\", \"PhD\", \"highschool\", \"PhD\", \"master\", \n    \"master\", \"master\", \"PhD\", \"highschool\", \"master\", \"master\", \n    \"highschool\", \"bachelor\", \"highschool\", \"bachelor\", \"PhD\", \n    \"bachelor\", \"highschool\", \"master\", \"highschool\", \"bachelor\", \n    \"bachelor\"), region = c(\"North\", \"South\", \"North\", \"West\", \n    \"North\", \"West\", \"South\", \"South\", \"West\", \"South\", \"West\", \n    \"South\", \"West\", \"East\", \"North\", \"West\", \"North\", \"North\", \n    \"West\", \"North\", \"East\", \"West\", \"South\", \"North\", \"North\", \n    \"East\", \"East\", \"North\", \"North\", \"West\", \"South\", \"West\", \n    \"West\", \"East\", \"West\", \"North\", \"West\", \"North\", \"East\", \n    \"North\", \"West\", \"South\", \"South\", \"East\", \"North\", \"West\", \n    \"West\", \"East\", \"North\", \"East\"), marital_status = c(\"divorced\", \n    \"single\", \"divorced\", \"divorced\", \"divorced\", \"divorced\", \n    \"divorced\", \"married\", \"divorced\", \"married\", \"divorced\", \n    \"widowed\", \"married\", \"single\", \"widowed\", \"widowed\", \"single\", \n    \"divorced\", \"widowed\", \"widowed\", \"single\", \"married\", \"single\", \n    \"married\", \"widowed\", \"married\", \"single\", \"single\", \"widowed\", \n    \"married\", \"widowed\", \"divorced\", \"single\", \"married\", \"single\", \n    \"widowed\", \"widowed\", \"married\", \"widowed\", \"divorced\", \"married\", \n    \"married\", \"divorced\", \"single\", \"married\", \"widowed\", \"divorced\", \n    \"divorced\", \"single\", \"divorced\")), row.names = c(NA, -50L\n), class = c(\"tbl_df\", \"tbl\", \"data.frame\"))\n\n\nclass(given_data)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nif (!requireNamespace(\"remotes\", quietly = TRUE)) {\n  install.packages(\"remotes\")\n}\nremotes::install_github(\"SATVILab/UtilsDataRSV\")\n\nUsing GitHub PAT from the git credential store.\n\n\nSkipping install of 'UtilsDataRSV' from a github remote, the SHA1 (e62db27d) has not changed since last install.\n  Use `force = TRUE` to force installation\n\nUtilsDataRSV::view_cols(given_data)\n\n[1] \"id\"\n [1] \"id_20\" \"id_44\" \"id_19\" \"id_37\" \"id_30\" \"id_27\" \"id_3\"  \"id_14\" \"id_28\"\n[10] \"id_10\" \"id_31\" \"id_29\" \"id_11\" \"id_24\" \"id_36\" \"id_7\"  \"id_21\" \"id_26\"\n[19] \"id_41\" \"id_33\"\n[1] \"30 unique entries not displayed\"\n[1] \"_____________________\"\n[1] \"age\"\n[1] 50 71 47 28 76\n[1] \"_____________________\"\n[1] \"gender\"\n[1] \"female\" \"male\"   \"femal\" \n[1] \"_____________________\"\n[1] \"height\"\n[1] 161.6 194.5 154.6 186.9    NA\n[1] \"_____________________\"\n[1] \"weight\"\n[1] 81.5 63.3 93.7 87.0 68.7\n[1] \"_____________________\"\n[1] \"blood_type\"\n[1] \"A\"  \"AB\" \"O\"  \"B\" \n[1] \"_____________________\"\n[1] \"disease_status\"\n[1] \"healthy\"  \"Healthy\"  \"diseased\"\n[1] \"_____________________\"\n[1] \"cholesterol\"\n[1] 235 181 233 174 187\n[1] \"_____________________\"\n[1] \"glucose\"\n[1] 115  88  76 106  NA\n[1] \"_____________________\"\n[1] \"smoker\"\n[1] \"yes\" \"no\" \n[1] \"_____________________\"\n[1] \"exercise\"\n[1] \"regular\"    \"occasional\" \"none\"      \n[1] \"_____________________\"\n[1] \"income\"\n[1] 96351 91326 57315 62405 47553\n[1] \"_____________________\"\n[1] \"education\"\n[1] \"PhD\"        \"highschool\" \"master\"     \"bachelor\"  \n[1] \"_____________________\"\n[1] \"region\"\n[1] \"North\" \"West\"  \"East\"  \"South\"\n[1] \"_____________________\"\n[1] \"marital_status\"\n[1] \"single\"   \"married\"  \"widowed\"  \"divorced\"\n[1] \"_____________________\"\n\n\nWarning: Not all unique entries displayed for these non-numeric cols: id\n\n\nGender and Disease has typos.\nHeight and Glucose has missing data."
  },
  {
    "objectID": "Day1_Practicals/Practical_1.html",
    "href": "Day1_Practicals/Practical_1.html",
    "title": "Practical One",
    "section": "",
    "text": "Practical One\n\nQuestion 1\n\nhead(airquality)\n\n  Ozone Solar.R Wind Temp Month Day\n1    41     190  7.4   67     5   1\n2    36     118  8.0   72     5   2\n3    12     149 12.6   74     5   3\n4    18     313 11.5   62     5   4\n5    NA      NA 14.3   56     5   5\n6    28      NA 14.9   66     5   6\n\ndf &lt;- airquality\nna_row &lt;- c()\n\nfor (i in 1:nrow(df)){\n  for (col in 1:ncol(df)){\n    if(is.na(df[i, col])){\n      na_row &lt;- c(na_row, i)\n      break\n    }\n  }\n}\n\nprint(na_row)\n\n [1]   5   6  10  11  25  26  27  32  33  34  35  36  37  39  42  43  45  46  52\n[20]  53  54  55  56  57  58  59  60  61  65  72  75  83  84  96  97  98 102 103\n[39] 107 115 119 150\n\nair_data &lt;- na.omit(airquality) #Remove NA values from airquality data set and save an df\n\nsum(!complete.cases(airquality))\n\n[1] 42\n\n\n\n\nQuestion 2\n\n##Ozone Statistics\nmin(air_data$Ozone)\n\n[1] 1\n\nmax(air_data$Ozone)\n\n[1] 168\n\nmean(air_data$Ozone)\n\n[1] 42.0991\n\nsd(air_data$Ozone)\n\n[1] 33.27597\n\n##Temp Statistics\nmin(air_data$Temp)\n\n[1] 57\n\nmax(air_data$Temp)\n\n[1] 97\n\nmean(air_data$Temp)\n\n[1] 77.79279\n\nsd(air_data$Temp)\n\n[1] 9.529969\n\n\n\n\nQuestion 3\n\nhead(cars)\n\n  speed dist\n1     4    2\n2     4   10\n3     7    4\n4     7   22\n5     8   16\n6     9   10\n\ndf &lt;- cars\nY &lt;- df$dist\nspeed &lt;- df$speed \nX &lt;- cbind(1, speed)\nb &lt;- solve(t(X) %*% X)  %*% t(X) %*% Y ## %*% means perform matrix multiplication\nprint(b)\n\n            [,1]\n      -17.579095\nspeed   3.932409\n\nmodel &lt;- lm(dist ~ speed, data= cars)\nsummary(model)\n\n\nCall:\nlm(formula = dist ~ speed, data = cars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-29.069  -9.525  -2.272   9.215  43.201 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -17.5791     6.7584  -2.601   0.0123 *  \nspeed         3.9324     0.4155   9.464 1.49e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 15.38 on 48 degrees of freedom\nMultiple R-squared:  0.6511,    Adjusted R-squared:  0.6438 \nF-statistic: 89.57 on 1 and 48 DF,  p-value: 1.49e-12"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Assignment 1",
    "section": "",
    "text": "Use the navigation bar above to view my solutions for each practical question."
  },
  {
    "objectID": "Day3_Practicals/Practical3_Submission.html",
    "href": "Day3_Practicals/Practical3_Submission.html",
    "title": "Practical3_Submission",
    "section": "",
    "text": "Question 4 Plot a sin function in [-2; 2]\n\nx &lt;- seq(-2,2, length.out = 100)\ny &lt;- sin(x)\n\nplot(x, y, type = \"l\", main = \"Plot of sin function\", lwd = 2, col = \"pink\")\n\n\n\n\n\n\n\n\nQuestion 5 t-distribution simulation\n\n#Generate 1000 random values from a tdist and a norm\nt_dist &lt;- rt(1000,1)\n#norm_dist &lt;- rnorm(1000)\n\nprob_seq &lt;- seq(0, 1, 0.01)\n\ntdist_quant &lt;- quantile(t_dist, probs = prob_seq) \n#norm_dist_quants &lt;- quantile(norm_dist, probs = prob_seq)\n\n#Use Bootstrapping to simulate 1000 norms dist with 1000 values in each \nB &lt;- 1000\nnorm_quants &lt;- replicate(B, {\n  norm_dist &lt;- rnorm(1000)\n  quantile(norm_dist, probs = prob_seq)\n})\n\n\nupper &lt;- apply(norm_quants,1, quantile, probs = 0.025) #apply to quantile over all the rows and return the 2.5th percentile\nlower &lt;- apply(norm_quants,1, quantile, probs = 0.975)\nnorm_med &lt;- apply(norm_quants,1,quantile, probs = 0.50) #get the med aswell\n\n#Calculate quantiles for normal distribution, plot against tdistribution\n#How to find quantiles \nplot(norm_med, tdist_quant, main = \"QQ-plot\",\n     xlab = \"Normal Quantiles\", ylab = \"Sample Quantiles\",\n     ylim = c(-5, 5), pch = 1)\n\nlines(norm_med, lower, col = \"blue\", lty = 2)\nlines(norm_med, upper, col = \"blue\", lty = 2)\nabline(0,1,col= \"pink\", lwd=2)\n\n\n\n\n\n\n\n\n\n#Test this way\nlibrary(car)\n\nLoading required package: carData\n\n\nWarning: package 'carData' was built under R version 4.3.3\n\nqqPlot(tdist_quant, envelope = 0.95, ylim = c(-5,5))\n\n\n\n\n\n\n\n\n  0% 100% \n   1  101"
  }
]